(this["webpackJsonpreact-shopping"]=this["webpackJsonpreact-shopping"]||[]).push([[0],{198:function(e,t,n){e.exports=n(380)},208:function(e,t,n){},226:function(e,t,n){},380:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setBooks",(function(){return f}));var r={};n.r(r),n.d(r,"addToCart",(function(){return g})),n.d(r,"removeFromCart",(function(){return k}));var c={};n.r(c),n.d(c,"setFilter",(function(){return I})),n.d(c,"setSearchQuery",(function(){return B}));var i=n(0),o=n.n(i),l=n(31),u=n.n(l),s=n(26),d=(n(207),n(208),n(18)),m=n(20),f=function(e){return{type:"SET_BOOKS",payload:e}},p=n(165),E=n(166),b=n(186),h=n(167),v=n(187),y=n(168),O=n.n(y),j=n(388),C=n(392),g=function(e){return{type:"ADD_TO_CART",payload:e}},k=function(e){return{type:"REMOVE_FROM_CART",payload:e}},_=n(184),R=n(35),w=n(381),T=(n(226),function(e){var t=e.title,n=e.author,a=e.price,r=e.image,c=e.addToCart,i=e.addedCount;return o.a.createElement(C.a,null,o.a.createElement(_.a,{src:r}),o.a.createElement(C.a.Content,null,o.a.createElement(C.a.Header,null,t),o.a.createElement(C.a.Meta,null,o.a.createElement("span",{className:"date"},n))),o.a.createElement(C.a.Content,{extra:!0},o.a.createElement("a",{href:"true"},o.a.createElement(R.a,{name:"usd"}),a)),o.a.createElement(w.a,{onClick:c.bind(void 0,e)},"Add to Cart ",i>0&&"(".concat(i,")")))}),S=Object(s.b)((function(e,t){var n=e.cart,a=t.id;return{addedCount:n.items.reduce((function(e,t){return e+(t.id===a?1:0)}),0)}}),(function(e){return Object(d.a)({},Object(m.b)(r,e))}))(T),I=function(e){return{type:"SET_FILTER",payload:e}},B=function(e){return{type:"SET_QUERY",payload:e}},A=n(393),D=n(387),F=function(e){var t=e.setFilter,n=e.filterBy,a=e.searchQuery,r=e.setSearchQuery;return o.a.createElement(A.a,{secondary:!0},o.a.createElement(A.a.Item,{active:"all"===n,onClick:t.bind(void 0,"all")},"All"),o.a.createElement(A.a.Item,{active:"price_high"===n,onClick:t.bind(void 0,"price_high")},"Price (high)"),o.a.createElement(A.a.Item,{active:"price_low"===n,onClick:t.bind(void 0,"price_low")},"Price (low)"),o.a.createElement(A.a.Item,{active:"author"===n,onClick:t.bind(void 0,"author")},"Author"),o.a.createElement(A.a.Item,null,o.a.createElement(D.a,{onChange:function(e){return r(e.target.value)},icon:"search",value:a,placeholder:"Enter query.."})))},Q=Object(s.b)((function(e){e.books;return{filterBy:e.filter.filterBy}}),(function(e){return Object(d.a)({},Object(m.b)(c,e))}))(F),L=n(391),M=n(390),P=function(e){var t=e.title,n=e.id,a=e.image,r=e.removeFromCart;return o.a.createElement(L.a,{selection:!0,divided:!0,verticalAlign:"middle"},o.a.createElement(L.a.Item,null,o.a.createElement(L.a.Content,{floated:"right"},o.a.createElement(w.a,{onClick:r.bind(void 0,n),color:"red"},"Remove")),o.a.createElement(_.a,{avatar:!0,src:a}),o.a.createElement(L.a.Content,null,t)))},x={}.activeItem,U=function(e){var t=e.totalPrice,n=e.count,a=e.items;return o.a.createElement(A.a,null,o.a.createElement(A.a.Item,{name:"browse",active:"browse"===x,onClick:function(){return window.location.reload(!1)}},"Web Development Book Store"),o.a.createElement(A.a.Menu,{position:"right"},o.a.createElement(A.a.Item,{name:"signup"},"Total: \xa0 ",o.a.createElement("b",null,t),"\xa0 USD"),o.a.createElement(M.a,{trigger:o.a.createElement(A.a.Item,{name:"help"},"Cart (",o.a.createElement("b",null,n),")"),content:0===n?"cart is empty":a.map((function(e,t){return o.a.createElement(P,Object.assign({},e,{key:t}))})),on:"click",hideOnScroll:!0})))},Y=n(182),J=n.n(Y),K=Object(s.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:J()(t.items,(function(e){return e.id}))}}),(function(e){return Object(d.a)({},Object(m.b)(r,e))}))(U),V=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.setBooks;O.a.get("/books.json").then((function(t){var n=t.data;e(n)}))}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.isReady;return o.a.createElement(j.a,null,o.a.createElement(K,null),o.a.createElement(Q,null),o.a.createElement(C.a.Group,{itemsPerRow:4},n?t.map((function(e,t){return o.a.createElement(S,Object.assign({key:t},e))})):"Loading..."))}}]),t}(i.Component),q=n(80),G=n.n(q),H=function(e,t,n){return function(e,t){switch(t){case"price_high":return G()(e,"price","desc");case"price_low":return G()(e,"price","asc");case"author":return G()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,n),t)},N=Object(s.b)((function(e){var t=e.books,n=e.filter;return{books:t.items&&H(t.items,n.filterBy,n.searchQuery),isReady:t.isReady}}),(function(e){return Object(d.a)({},Object(m.b)(a,e))}))(V),W=n(183),z=n.n(W),X={isReady:!1,items:null},Z=n(185),$={items:[]},ee={searchQuery:"",filterBy:"all"},te=Object(m.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(d.a)({},e,{items:t.payload,isReady:!0});case"SET_IS_READY":return Object(d.a)({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(d.a)({},e,{items:[].concat(Object(Z.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return Object(d.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(d.a)({},e,{searchQuery:t.payload});case"SET_FILTER":return Object(d.a)({},e,{filterBy:t.payload});default:return e}}}),ne=Object(m.d)(te,Object(m.a)(z.a));u.a.render(o.a.createElement(s.a,{store:ne},o.a.createElement(N,null)),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.250c8ea1.chunk.js.map